<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Techunifi is your all-in-one solution for commercial IT needs, including low-voltage structured cabling, telecom PBX systems, security systems, lighting, distributed and pro AV systems, network Wi-Fi solutions, EV charging, and managed IT solutions.">
    <meta name="keywords" content="security solutions, telecommunication systems, PBX, VoIP, SIP, ISP, low voltage systems, structured cabling, fiber optic networks, network solutions, WiFi installation, speaker installation, lighting systems, smart thermostats, EV chargers, IT solutions">
    <!-- Desktop -->
  <meta id="desktop_og_image" property="og:image" content="https://www.techunifi.com/assets/img/desktop-og-image.png">
  <meta id="desktop_og_image_secure_url" property="og:image:secure_url" content="https://www.techunifi.com/assets/img/desktop-og-image.png">
  <meta id="desktop_twitter_image" name="twitter:image" content="https://www.techunifi.com/assets/img/desktop-og-image.png" />
  <!-- Mobile -->
  <meta id="mobile_og_image" property="og:image" content="https://www.techunifi.com/assets/img/mobile-og-image.png">
  <meta id="mobile_og_image_secure_url" property="og:image:secure_url" content="https://www.techunifi.com/assets/img/mobile-og-image.png-og-image.png">
  <meta id="mobile_twitter_image" name="twitter:image" content="https://www.techunifi.com/assets/img/mobile-og-image.png" />

  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="200">
  <meta property="og:image:height" content="200">
  <meta property="og:url" content="https://www.techunifi.com/submit.html"/>
   <meta property="og:title" content="Smart Technology IT solutions in High Point, NC - Techunifi" />
   <meta property="og:description" content="Techunifi is your all-in-one solution for commercial IT needs, including low-voltage structured cabling, telecom PBX systems, security systems, lighting, distributed and pro AV systems, network Wi-Fi solutions, EV charging, and managed IT solutions." />
   <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8"> 
    <title>Change Order</title>
    <link rel="canonical" href="https://www.techunifi.com/submit.html">
    <link rel="alternate" hreflang="en" href="https://www.techunifi.com/submit.html">

     <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/favicon.png" rel="apple-touch-icon">

 <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <!-- <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet"> -->
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="brands/css/brands.css" rel="stylesheet">


  <!-- Script JS  -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <!-- Signature -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.3.5/signature_pad.min.js" integrity="sha512-kw/nRM/BMR2XGArXnOoxKOO5VBHLdITAW00aG8qK4zBzcLVZ4nzg7/oYCaoiwc8U9zrnsO9UHqpyljJ8+iqYiQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Captcha CDN -->
  <script src="https://www.google.com/recaptcha/api.js"></script>

  <!-- Location Starts -->

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Place",
      "name": "Techunifi",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "2638 Willard Dairy Rd",
        "addressLocality": "High Point",
        "addressRegion": "North Carolina",
        "postalCode": "27265",
        "addressCountry": " United States"
      }
    }
    </script>

  <!-- Location Ends -->
   <!-- Google tag (gtag.js) --> 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CKH6XB0EMD"></script>
<script>  
 window.dataLayer = window.dataLayer || [];   
function gtag(){dataLayer.push(arguments);}  
 gtag('js', new Date());   gtag('config', 'G-CKH6XB0EMD'); 
</script>
   
</head>
<body class="changeOrderPage" id="submit-captcha">
    
   <!-- ======= Header ======= -->

   
   <header id="nav-menu" class="header-nav" aria-label="navigation bar">
    <div class="container">
      <div class="nav-start">
        <a class="logo" href="https://www.techunifi.com/">
          <img src="assets/img/logo.png" title="techunifi" alt="Logo" />
        </a>
        <nav class="menu">
          <ul class="menu-bar">
            <li><a class="nav-link services" href="https://www.techunifi.com/#landing-services" onclick="toggleUnderline(event)">Services</a></li>
            <li><a class="nav-link howit-Works" href="https://www.techunifi.com/#how-it-works" onclick="toggleUnderline(event)">How it Works</a></li>
            <li><a class="nav-link menu-products" href="products.html" onclick="toggleUnderline(event)">Products</a></li>
            <li><a class="nav-link menu-about" href="about.html" onclick="toggleUnderline(event)">About Us</a></li>
            <li><a class="nav-link menu-contact" href="https://www.techunifi.com/#contact" onclick="toggleUnderline(event)">Contact Us</a></li>
          </ul>
        </nav>
      </div>
  
      
      <div class="nav-end">
        <a class="nav-link raise-btn" href="submit.html" onclick="toggleUnderline(event)">
          <img src="assets/img/submit_icon.svg" alt="techunifi" title="Submit">
          <span>Submit A Ticket</span>
        </a>
        <a class="nav-link search-site mobile-search" href="javascript:void(0)" onclick="toggleModal()">
          <img src="assets/img/search-icon.svg" alt="techunifi" title="Search">
          <span>Search</span>
        </a>
        <a class="nav-link profile-icon" href="https://connect.ebizcharge.net/(S(nltki3tr3mxc3a0ya4rsesky))/EbizLogin.aspx?ReturnUrl=%2fTechunifi" target="_blank" onclick="toggleUnderline(event)">
          <img src="assets/img/account_circle.svg" alt="techunifi" title="Login">
          <span>Login<img src="assets/img/login_arrow.svg" alt="techunifi" title="Login"></span>
        </a>
        <button id="hamburger" aria-label="hamburger" aria-haspopup="true" aria-expanded="false">
          <i class="bx bx-menu" aria-hidden="true"></i>
        </button>
      </div>

    </div>
  </header>
  

  <!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="submit-banner">
    <!-- <img src="assets/img/submit-banner.png" title="techunifi" alt="techunifi"> -->
  </section>
  <!-- End Hero -->

   <!-- ======= Password Modal ======= -->

   <section class="Brand-Password">
    <div id="passwordModal" class="modal">
     <div class="modal-content">
       <form id="PasswordloginForm">
        <h4 class="pass-heading">Change Order</h4>
        <p class="change-order-para">This Portal is for our Techunifi Team. Use the Login information Provided in your email. </p>
        <div class="eye-password">
          <input type="password" id="protected-password" name="password"  placeholder="Enter Password" oninput="hideErrorMessage()">
          <span class="toggle-password" onclick="togglePasswordVisibility()"><i class="bx bx-hide"></i></span>
        </div>
        <span class="error-message" id="brand-error-message">Invalid password. Please try again.</span><br>
        <input type="button" value="Login" onclick="validateLogin()"><br>
        <a href="submit.html" class="change-order-link">Back to Main Site</a>
      </form>
     </div>
    </div>
</section>

<!-- ======= Password Modal ======= -->


  <section class="sub-tab-section">
    <div class="container">

      <!-- <div class="row">
        <div class="col-md-12">
          <div class="tab">
            <a href="new-inquiry.html" class="sub-tablinks" id="newInquiryButton">New Inquiry</a>
            <a href="submit.html" class="sub-tablinks">Submit A Ticket</a>
            <a href="change-order.html" class="sub-tablinks active">Change Order</a>
          </div>
        </div>
      </div> -->

      <div class="row">
        <div class="col-md-12">

       
         <!-- Tab2 -->
         <div id="sub-tab2" class="sub-tabcontent">
           <div class="sub-tab2-section">
   
              <!-- =======  Form =======  -->
  <section class="ticket-form">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
              
                <div class="form-parent">

                  <!--  -->
                  <div class="submit-head-para">
                    <div class="prod-heading aos-init">
                      <h3>Change Order</h3>
                    </div>
                    <p class="tabs-para aos-init">
                      If you are currently being serviced by Techunifi and need Maintenance Support, please fill out this form to help us assist you. After we receive your change order, we will reach out to gather more information about the service you require.
                    </p>
                  </div>
                  <!--  -->


             <form id="submitTicketForm" action = 'https://crm.zoho.com/crm/WebToCaseForm' name = WebToCases6771280000000742007 method = 'POST' onSubmit = 'javascript:document.charset="UTF-8"; return checkMandatory6771280000000742007()' accept-charset = 'UTF-8'>

              <input type = 'text' style = 'display:none;' name = 'xnQsjsdp' value = '6e093bf9ded14d44fd685000e082f8a6a288ee897ead9724b313c96f05f65f5a'>
				</input>
				<input type = 'hidden' name = 'zc_gad' id = 'zc_gad' value = ''>
				</input>
				<input type = 'text' style = 'display:none;' name = 'xmIwtLD' value = '3a628067cb4073bedcdcde81f64ad4ce4966087655c50324fa61bc05362f3dc7ccb0e4fc171e22467ae0b7d8370af123'>
				</input>
				<input type = 'text' style = 'display:none;' name = 'actionType' value = 'Q2FzZXM='>
				</input>
				<input type = 'text' style = 'display:none;' name = 'returnURL' value = 'https&#x3a;&#x2f;&#x2f;www.techunifi.com&#x2f;thanku-submit.html'>
				</input>

        <input type = 'hidden' value="NA" class="none" id = 'Subject' aria-required = 'true' aria-label = 'Subject' name = 'Subject' aria-valuemax = '300' maxlength = '300'>
						</input>

  <!-- Change Order Form -->

  <div class="change-order-div ">

    <!-- Project Information -->
    <div class="submit-sub-section submit-contact-info">
  
      <div class="row cont-row-head">
        <div class="col-md-12">
          <h4>Project Information</h4>
        </div>
      </div>
  
    
        <div class="row">
          <div class="col-md-12">
            <label for="CASECF5">Category</label>
            <select  id="CASECF5" name="CASECF5" title="Products Requiring Servie" onChange = 'addAriaSelected6771280000000742007()' multiple>
              <!-- <option value="">--None--</option> -->
              <option value="Phone">Phone</option>
              <option value="Wifi">Wifi</option>
              <option value="EV Charging">EV Charging</option>
              <option value="IT">IT</option>
              <option value="Surveillance">Surveillance</option>
              <option value="Speakers">Speakers</option>
              <option value="Other">Other</option>
              </select>
          </div>

        </div>

        <div class="row">
  
          <div class="col-md-3">
            <label for="Priority">Urgency</label>
            <select class = 'zcwf_col_fld_slt' role = 'combobox' aria-expanded = 'false' aria-haspopup = 'listbox' id = 'Priority' onChange = 'addAriaSelected6771280000000742007()' aria-required = 'false' aria-label = 'Priority' name = 'Priority'>
							<option value = '-None-'>
								-None-
							</option>
							<option value = 'High'>
								High
							</option>
							<option value = 'Medium'>
								Medium
							</option>
							<option value = 'Low'>
								Low
							</option>
						</select>
          </div>

          <div class="col-md-6">
            <label for="CASECF12">Property Reporting Issue</label>
            <input id="CASECF12" maxlength="50" name="CASECF12" size="20" type="text" />
          </div>

          <div class="col-md-3">
            <label for="Phone">Contact Phone</label>
            <input  id="Phone" maxlength="40" name="Phone" size="20" type="text" placeholder="+1 (336) 860-6061"/>
          </div>
  
        </div>
  
        <div class="row">

          <div class="col-md-3">
            <label for="Case_Reason">New/Recurring</label>
            	<select class = 'zcwf_col_fld_slt' role = 'combobox' aria-expanded = 'false' aria-haspopup = 'listbox' id = 'Case_Reason' onChange = 'addAriaSelected6771280000000742007()' aria-required = 'false' aria-label = 'Case Reason' name = 'Case Reason'>
							<option value = '-None-'>
								-None-
							</option>
              	<option value = 'New&#x20;problem'>
								New problem
							</option>
              	<option value = 'Existing&#x20;problem'>
								Existing problem
							</option>
							<option value = 'User&#x20;did&#x20;not&#x20;attend&#x20;any&#x20;training'>
								User did not attend any training
							</option>
							<option value = 'Complex&#x20;functionality'>
								Complex functionality
							</option>
							<option value = 'Instructions&#x20;not&#x20;clear'>
								Instructions not clear
							</option>
						
						</select>
          </div>

          <div class="col-md-6">
            <label for="Reported_By">Requested By</label>
            <input  id="Reported_By" maxlength="50" name="Reported_By" size="20" type="text" />
          </div>

          <div class="col-md-3">
            <label for="Email">Email</label>
            <input  id="Email" ftype='email' maxlength="80" name="Email" size="20" type="text" placeholder="info@techunifi.com"/>
          </div>

        </div>

  
    </div>
  <br>
    <!-- Deliverables -->
    <div class="submit-sub-section submit-contact-info">
  
      <div class="row cont-row-head">
        <div class="col-md-12">
          <h4>Deliverables</h4>
        </div>
      </div>
  
        <div class="row">
          <div class="col-md-7">
            <label for="Description">Description</label>
            <textarea id="Description" name="Description" type="text" wrap="soft" onkeydown="if (event.keyCode === 13) { event.preventDefault(); this.value += '\n'; }"></textarea>
          </div>
          <div class="col-md-5">
            <label for="CASECF4">Ship to (If different)</label>
            <textarea class="not-required" id = 'CASECF4' aria-required = 'false' aria-label = 'CASECF4' name = 'CASECF4'></textarea>
          </div>
        </div>
    
        <div class="row">
  
          <div class="col-md-7">
            <label for="CASECF11">Authorized by</label>
            <input  id="CASECF11" maxlength="50" name="CASECF11" size="20" type="text" />
          </div>
  
          <div class="col-md-5">
            <label for="CASECF116">Date</label>
<div class = 'zcwf_col_fld'>
						<input type = 'text' id = 'CASECF116' aria-required = 'false' aria-label = 'CASECF116' name = 'CASECF116' aria-valuemax = '20' maxlength = '20' ftype = 'date' placeholder = 'DD/MM/YYYY' aria-placeholder = 'DD/MM/YYYY' tplid = '6771280000000742007CASECF116' onfocus = 'formCalender.stEv(event);formCalender.createCalendar(this);' autocomplete = 'off'>
						</input>
						<div id = 'template6771280000000742007CASECF116' onclick = 'formCalender.stEv(event);' class = 'tempCalDiv'>
						</div>
						<div class = 'zcwf_col_help'>
						</div>
					</div>            
          </div>
  
        </div>
  
    </div>
  <br>
     <!-- Service and Labor -->
     <div class="submit-sub-section submit-contact-info">
  
      <div class="row cont-row-head">
        <div class="col-md-12">
          <h4>Service and Labor</h4>
        </div>
      </div>
  
        <div class="row">
          <div class="col-md-7">
            <label for="CASECF9">Service and Labor</label>
            <textarea rows="4" id="CASECF9" name="CASECF9" type="text" wrap="soft" placeholder="Type Here" class="numbered-textarea">1) Lorem Ipsum is simply dummy text</textarea>
          </div>
          <div class="col-md-5">
            <label for="CASECF7">Hours</label>
            <textarea rows="4" id="CASECF7" name="CASECF7" type="text" class="numbered-textarea">1) 5hrs</textarea>
          </div>
        </div>
  
  
    </div>
  <br>
     <!-- Parts and Materials -->
     <div class="submit-sub-section submit-contact-info">
  
      <div class="row cont-row-head">
        <div class="col-md-12">
          <h4>Parts and Materials</h4>
        </div>
      </div>
  
        <div class="row">
          <div class="col-md-7">
            <label for="CASECF10">Parts and Materials</label>
            <textarea rows="4" id="CASECF10" name="CASECF10" type="text" wrap="soft" class="numbered-textarea">1) Lorem Ipsum is simply dummy text</textarea>
          </div>
          <div class="col-md-5">
            <label for="CASECF8">QTY</label>
            <textarea rows="4" id="CASECF8" name="CASECF8" type="text" class="numbered-textarea">1) 50</textarea>
          </div>
        </div>
     
  
    </div>
  <br>
    <!-- Validation -->
    <div class="submit-sub-section submit-contact-info">
  
        <div class="row cont-row-head">
          <div class="col-md-12">
            <h4>Validation</h4>
          </div>
        </div>
    
          <div class="row">
            <div class="col-md-12">
              <p>
                1. Total payment due 30 days after completion of work<br>
                2. Refer to the W.O. # in all correspondence and in your payment<br>
                3. Please send correspondence regarding this work order to: Suzanne Blair - suzanne.blair@techunifi.com
              </p>

              <div class="terms-modal">
                <!-- Terms & Conditions Text -->
<p class="terms-conditions" data-bs-toggle="modal" data-bs-target="#termsModal">Terms & Conditions</p>

<!-- Bootstrap Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="termsModalLabel">Terms & Conditions</h3>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <p class="change-terms-para">Techunifi LLC Change Order Terms and Conditions</p>
        <ol>
          <li><strong>Payment Terms:</strong><br>
            Total payment is due 30 days after the completion of the work outlined in the Change Order, unless otherwise agreed in writing.
          </li>
          <li><strong>Correspondence:</strong><br>
            Always reference the Work Order number (W.O. #) in all communications, including invoices and payments. Failure to do so may result in processing delays.
          </li>
          <li><strong>Work Order Inquiries:</strong><br>
            Please direct all inquiries or correspondence related to this Change Order to Suzanne Blair at suzanne.blair@techunifi.com.
          </li>
          <li><strong>Scope of Work:</strong><br>
            The detailed scope of work, including all services, materials, and labor, is defined within the specific Work Order. Any modifications to the scope of work will require a formal written Change Order approved by both parties before additional work begins.
          </li>
          <li><strong>Changes and Amendments:</strong><br>
            Any amendments to the original scope or terms of the work require a written and signed Change Order. Techunifi reserves the right to adjust costs if additional work or equipment is required due to unforeseen circumstances or changes initiated by the client.
          </li>
          <li><strong>Ownership of Equipment:</strong><br>
            Techunifi retains ownership of any equipment provided under this Change Order until full payment has been received. Upon receipt of the total amount due, ownership will be transferred to the client.
          </li>
          <li><strong>Delivery and Installation:</strong><br>
            Techunifi will make every reasonable effort to meet the delivery and installation schedule as outlined in the Change Order. However, Techunifi is not liable for delays caused by factors beyond its control, such as equipment shortages, labor disputes, or acts of nature.
          </li>
          <li><strong>Insurance:</strong><br>
            Techunifi will maintain general liability insurance throughout the duration of the work. The client agrees to indemnify and hold Techunifi harmless from any damages or losses except those caused by Techunifi's gross negligence or willful misconduct.
          </li>
          <li><strong>Client Responsibilities:</strong><br>
            The client agrees to provide Techunifi with reasonable access to the site, including necessary electrical and structural support, to facilitate the completion of work. Any delays caused by the client's failure to meet these requirements may result in additional charges.
          </li>
          <li><strong>Termination:</strong><br>
            Either party may terminate this Change Order upon written notice. If terminated, payment will be due for work completed up to the termination date.
          </li>
          <li><strong>Warranty:</strong><br>
            Techunifi warrants that all labor will be performed in a professional and workmanlike manner, in compliance with industry standards. The warranty period for labor is 90 days from the date of completion.
          </li>
          <li><strong>Force Majeure:</strong><br>
            Neither party will be liable for delays or failure to perform its obligations under this Change Order due to causes beyond its control, such as natural disasters, acts of terrorism, or other unforeseen events.
          </li>
          <li><strong>Limitation of Liability:</strong><br>
            Techunifi’s liability for any damages arising from this Change Order shall not exceed the total amount payable under the Order. Techunifi will not be responsible for any indirect or consequential damages.
          </li>
        </ol>
      </div>
    </div>
  </div>
</div>

              </div>

            </div>
          </div>
<br>
             <!-- Captcha -->
         <div class="row">

          <div class="col-md-6 captcha-order-page">
            	<div class = 'zcwf_col_fld'>
						<div class = 'g-recaptcha' data-sitekey = '6Lf3ICYqAAAAAGHKnO2VfWsmWMcJ57vKk7KBusnz' data-theme = 'light' data-callback = 'rccallback6771280000000742007' captcha-verified = 'false' id = 'recap6771280000000742007'>
						</div>
						<div id = 'recapErr6771280000000742007' style = 'font-size:12px;color:red;visibility:hidden;'>
							Captcha validation failed. If you are not a robot then please try again.
						</div>
					</div>
         </div>

        </div>

<br>
          <!-- Signature && Download PDF -->
         <div class="row">

          <div class="col-md-12">
            <label>E-Signature</label>
            <div class="flex-row">
              <div class="wrapper">
                  <canvas id="signature-pad" width="300" height="100"></canvas>
              </div>
              <div class="clear-btn">
                  <button id="clear"><span> Clear </span></button>
              </div>
            </div>
          </div>
 
          <!-- <div class="col-md-6 download-pdf">
            <h4>
              <button type="button" id="downloadPdf">Download the Entries
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4"/>
                </svg>  
              </button>  
            </h4>
          </div> -->

         </div>

         <div class="row">
          <div class="col-md-4">
            <label for="00NUm000009SDTN">Completed Date</label>
            <!-- <span class="dateInput dateOnlyInput"></span> -->
            <input  id="00NUm000009SDTN" name="00NUm000009SDTN" size="12" type="text" placeholder="dd-mm-yyyy"/>
          </div>
          <div class="col-md-4">
            <label for="00NUm000009alcj">Date</label>
            <!-- <span class="dateInput dateOnlyInput">                </span>         -->
              <input  id="00NUm000009alcj" name="00NUm000009alcj" size="12" type="text" placeholder="dd-mm-yyyy"/>
          </div>
         </div>

         <!-- Checkbox -->
         <div class="row">
          <div class="col-md-12">
            <input id="00NUm000009SCKP" name="00NUm000009SCKP" type="checkbox" value="1" style="width:auto; display: inline;"/>  I agree that all the work has been performed to my satisfaction
          </div>
        </div>
        
    
    </div>

      
    

                          <div class="post-form-para">
                            <p>
                              Be sure to review the form before submitting. Please provide as much detail as possible so that we can tailor our service to your needs.
                            </p>
                          </div>
      
  </div>
  
    <!-- Change Order Form -->
                 
                        <input type="submit" id="formsubmit" class = 'formsubmit zcwf_button' name="submit" value="Submit & Download">   

                    </form> 
                
                  </div>
            
            </div>
        </div>
    </div>
  </section>
  <!-- =======  Form =======  -->
   
           </div>
         </div>
   
        </div>
           
      </div>

    </div>
  </section>

    <!-- =============== chat bot ================== -->
   
    <div class="chat-bot">
      <button id="chatbotIcon" onclick="toggleChat()">💬</button>
      <div id="chatPopup" class="card">
          <p>Tech<span>unifi</span></p>
          <div class="card-body d-flex flex-column" id="chatbox">
              <!-- Chat messages will appear here -->
              <div class="chat-bubble bot">
                Hi, I'm the chatbot. How can I help you today? Would you like to know more about our <a href="https://www.techunifi.com/#landing-services" target="_blank">Services</a>, <a href="https://www.techunifi.com/products.html" target="_blank">Products</a>, or <a href="https://www.techunifi.com/inquiry.html" target="_blank">Inquire</a> about your needs? 
              </div>
               
          </div>
          <div class="card-footer">
              <div class="input-group">
                  <input type="text" id="userInput" class="form-control" placeholder="Type a message...">
                  <button class="btn btn-primary" onclick="sendMessage()">Send</button>
              </div>
          </div>
      </div>
  </div>
  

<!-- ======= Footer ======= -->
<footer class="footer" role="contentinfo" id="footers">
  <div class="container">
    <div class="row">
      <div class="col-md-2 col-lg-2 col-xl-2 mb-4 mb-md-0 about-us" id="aboutUs">
         <ul class="list-unstyled links-footer">
          <li><a href="#landing-services"">Services</a></li>
          <li><a href="#how-it-works">How It Works</a></li>
          <li><a href="products.html">Products</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="#contact">Contact Us</a></li>
        </ul>
      </div>

      <div class="col-md-2 col-lg-2 col-xl-2 mb-4 mb-md-0 footer-prod-services">
        <ul class="list-unstyled links-footer">
          <li><p>Quick Links</p></li>
         <li><a href="products.html?section=low-Voltage"">Low Voltage</a></li>
         <li><a href="products.html?section=telecom">Telecom</a></li>
         <li><a href="products.html?section=security">Security</a></li>
         <li><a href="products.html?section=wifi">Network</a></li>
         <li><a href="products.html?section=audi-vide">Audio & Video</a></li>
         <li><a href="products.html?section=light">Lighting</a></li>
         <li><a href="products.html?section=energy">Energy</a></li>
         <li><a href="products.html?section=other-info">IT Management</a></li>

       </ul>
     </div>

       <div class="col-md-5 col-lg-5 col-xl-5 mb-4 mb-md-0 what-we-do">
        <h3>What We Do</h3>
        <p>Techunifi is a leading provider of comprehensive IT solutions, renowned for its commitment to excellence, innovation, and fostering enduring client partnerships. </p>
        <ul class="list-unstyled connect-details location-details">
          <li>
            <h3>Location</h3>
            <a href="javascript:void(0) ">2638 Willard Dairy Road, Suite 112 High Point, NC 27265</a>
          </li>
        </ul>
       </div>

      <div class="col-md-3 col-lg-3 col-xl-3 ms-auto">
        <div class="row site-section pt-0">
          <div class="col-md-12 mb-4 mb-md-0 social-us">
            <h3>Get In Touch</h3>

            <div class="row">
              <ul class="list-unstyled connect-details">
                <li>
                    <a href="tel:+1 (336) 860-6061"><span class="bi bi-telephone"></span>+1 (336) 860-6061</a>
                    <br>
                    <a href="mailto: office-admin@techunifi.com"><span class="bi bi-envelope"></span>info@techunifi.com</a>
                </li>
              </ul>
            </div>

            <div class="row email-sub-row d-none">
              <div class="col-md-12">
                <h3>Stay in Touch</h3>
                <form action="" method="post" role="form" class="email-subscribe" >
                  <label>Subscribe to our email listing</label>
                  <input type="email" class="subscribe-mail form-control" name="email" id="form-email" placeholder="Email" required="">
                  <button type="submit">Subscribe</button>
                </form>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <h3 class="above-social">Stay Connected</h3>
                <ul class="list-unstyled">
                  <li>
                    <p class="social">
                      <a href="https://www.facebook.com/Techunifi-105965585242387"><span class="bi bi-facebook"></span></a>
                      <a href="https://twitter.com/techunifi"><span class="bi bi-twitter-x"></span></a>
                      <a href="https://www.linkedin.com/company/techunifi"><span class="bi bi-linkedin"></span></a>
                      <a href="https://www.instagram.com/techunifi/"><span class="bi bi-instagram"></span></a>
                      <a href="https://www.pinterest.com/techunifi/"><span class="bi bi-pinterest"></span></a>
                    </p>
                  </li>
                </ul>
              </div>
            </div>
            

          </div>
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-md-12" style="padding-top: 30px;">
        <div class="copy-right">
          <a href="https://www.techunifi.com/"><img src="assets/img/hero-img.svg" title="techunifi" alt="logo"></a>
          <p>@ Techunifi 2024</p>
        </div>
      </div>
    </div>

    </div>

  
 </footer>


   <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script> -->
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->

  <!-- Template Main JS File -->
  <!-- <script src="assets/js/main.js"></script> -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>


    <script>
        // --- Error Message Utility Functions (Can be customized) ---
        function showErrorMessage(inputElement, message) {
            const $input = $(inputElement);
            // Assuming the error message span is the next sibling
            let $errorElement = $input.next('.error-message');
            if ($errorElement.length === 0) {
                 // Fallback: If no sibling, create one. This is good for robustness.
                $errorElement = $('<span class="error-message"></span>').insertAfter($input);
            }
            $errorElement.text(message).css('display', 'block');
        }

        function hideErrorMessage(inputElement) {
            const $input = $(inputElement);
            const $errorElement = $input.next('.error-message');
            if ($errorElement.length) {
                $errorElement.css('display', 'none');
                $errorElement.text(''); // Clear message
            }
        }

        // --- Zoho-related functions (provided by you) ---
        function rccallback6771280000000742007() {
            if (document.getElementById('recap6771280000000742007') != undefined) {
                document.getElementById('recap6771280000000742007').setAttribute('captcha-verified', true);
            }
            if (document.getElementById('recapErr6771280000000742007') != undefined && document.getElementById('recapErr6771280000000742007').style.visibility == 'visible') {
                document.getElementById('recapErr6771280000000742007').style.visibility = 'hidden';
            }
        }

        function reCaptchaAlert6771280000000742007() {
            var recap = document.getElementById('recap6771280000000742007');
            if (recap != undefined && recap.getAttribute('captcha-verified') == 'false') {
                document.getElementById('recapErr6771280000000742007').style.visibility = 'visible';
                return false;
            }
            return true;
        }

        function validateEmail6771280000000742007() {
            var form = document.forms['WebToCases6771280000000742007'];
            var emailFld = form.querySelectorAll('[ftype=email]');
            var isValidEmail = true; // Flag for overall email validity

            for (var i = 0; i < emailFld.length; i++) {
                var emailInput = emailFld[i];
                var emailVal = emailInput.value;
                if ((emailVal.replace(/^\s+|\s+$/g, '')).length !== 0) {
                    var atpos = emailVal.indexOf('@');
                    var dotpos = emailVal.lastIndexOf('.');
                    if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= emailVal.length) {
                        // Instead of alert, use showErrorMessage
                        showErrorMessage(emailInput, 'Please enter a valid email address.');
                        isValidEmail = false; // Set flag to false
                        // Don't return here, continue checking other email fields
                    } else {
                        hideErrorMessage(emailInput); // Hide if valid
                    }
                } else {
                    hideErrorMessage(emailInput); // Hide if empty (handled by mandatory check)
                }
            }
            // Only return the overall validity after checking all email fields
            return isValidEmail;
        }

        // Placeholder for dateFormatConvert as it's not provided in full,
        // but your code uses it, so I'll keep the basic structure.
        const dateFormatConvert = {
            validate: function(dateVal, usrPtrn) {
                if (usrPtrn === 'DD/MM/YYYY') {
                    const parts = dateVal.split('/');
                    if (parts.length === 3) {
                        const day = parseInt(parts[0], 10);
                        const month = parseInt(parts[1], 10);
                        const year = parseInt(parts[2], 10);
                        const date = new Date(year, month - 1, day);
                        return date.getFullYear() === year && date.getMonth() === month - 1 && date.getDate() === day;
                    }
                }
                return true; // Default to true if pattern is not DD/MM/YYYY or date is empty
            }
        };

        function validateDateFormat6771280000000742007() {
            var form = document.forms['WebToCases6771280000000742007'];
            var dateFlds = form.querySelectorAll('[ftype=date]');
            var isValidDate = true; // Flag for overall date validity

            for (var i = 0; i < dateFlds.length; i++) {
                var dateFld = dateFlds[i];
                var usrPtrn = dateFld.placeholder || 'DD/MM/YYYY'; // Fallback if placeholder is missing
                var dateVal = dateFld.value;
                if (dateVal.trim() !== '') {
                    var vald = dateFormatConvert.validate(dateVal, usrPtrn);
                    if (!vald) {
                        // Instead of alert, use showErrorMessage
                        showErrorMessage(dateFld, 'Please enter a valid date in ' + usrPtrn + ' format.');
                        isValidDate = false; // Set flag to false
                        // Don't return here, continue checking other date fields
                    } else {
                        hideErrorMessage(dateFld); // Hide if valid
                    }
                } else {
                    hideErrorMessage(dateFld); // Hide if empty (handled by mandatory check)
                }
            }
            // Only return the overall validity after checking all date fields
            return isValidDate;
        }

        function checkMandatory6771280000000742007() {
            // Updated to be more flexible, using 'required' attribute if present,
            // or specific name for Subject as per original
            var mandatoryFields = document.forms['WebToCases6771280000000742007'].querySelectorAll('[required]');
            var zohoMandatorySubject = document.forms['WebToCases6771280000000742007']['Subject'];

            let allMandatoryValid = true;

            // Check fields with 'required' attribute first
            mandatoryFields.forEach(fieldObj => {
                let currentFieldValid = true;
                if (fieldObj.type === 'checkbox') {
                    if (!fieldObj.checked) {
                        showErrorMessage(fieldObj, 'This checkbox must be checked.');
                        currentFieldValid = false;
                    } else {
                        hideErrorMessage(fieldObj);
                    }
                } else if (fieldObj.nodeName === 'SELECT') {
                    if (fieldObj.value === '' || fieldObj.value === '-None-') {
                        showErrorMessage(fieldObj, 'Please select an option.');
                        currentFieldValid = false;
                    } else {
                        hideErrorMessage(fieldObj);
                    }
                } else if (fieldObj.type === 'file') {
                    if (fieldObj.files.length === 0) {
                        showErrorMessage(fieldObj, 'Please select a file to upload.');
                        currentFieldValid = false;
                    } else {
                        hideErrorMessage(fieldObj);
                    }
                } else { // Text, email, textarea, number etc.
                    if (fieldObj.value.trim() === '') {
                        showErrorMessage(fieldObj, 'This field cannot be empty.');
                        currentFieldValid = false;
                    } else {
                        hideErrorMessage(fieldObj);
                    }
                }

                if (!currentFieldValid) {
                    allMandatoryValid = false;
                    // Don't focus here, let the main validateTicketForm handle the first invalid field focus.
                }
            });

            // Special handling for Zoho's 'Subject' field if it's explicitly mentioned and not caught by 'required'
            if (zohoMandatorySubject && zohoMandatorySubject.value.trim() === '') {
                 // This particular 'Subject' field is often hidden and populated by Zoho.
                 // If it's *not* hidden and meant for user input, you'd handle it.
                 // For now, assuming it's managed by Zoho's internal process or populated by the script.
                 // If you intend for the user to fill it, you might want to adjust its 'required' state or display.
                 // For this specific Zoho function, it's often a hidden field. We'll rely on the main form's subject.
            }

            return allMandatoryValid; // Return the overall validity
        }


        // --- Main jQuery script for form handling ---
        // This condition ensures the script only runs on /change-order.html
        if (window.location.pathname === '/change-order.html') {
            $(document).ready(function() {
                console.log("jQuery document ready fired for /change-order.html");

                // Remove the 'onsubmit' attribute to ensure jQuery's handler takes precedence
                $('#submitTicketForm').removeAttr('onsubmit');
                console.log("Removed 'onsubmit' attribute from #submitTicketForm.");

                // --- Digital Signature Pad Initialization ---
                var canvas = document.getElementById("signature-pad");
                var signaturePad; // Declare signaturePad in a scope accessible by handlers

                if (canvas) {
                    function resizeCanvas() {
                        var ratio = Math.max(window.devicePixelRatio || 1, 1);
                        canvas.width = canvas.offsetWidth * ratio;
                        canvas.height = canvas.offsetHeight * ratio;
                        canvas.getContext("2d").scale(ratio, ratio);
                        // If signaturePad exists and is not empty, redraw it after resize
                        if (signaturePad && !signaturePad.isEmpty()) {
                            // Saving and restoring the signature data is crucial for resize
                            const data = signaturePad.toData();
                            signaturePad.clear(); // Clear before setting new size
                            signaturePad.fromData(data);
                        }
                    }

                    // Initialize SignaturePad
                    signaturePad = new SignaturePad(canvas, {
                        backgroundColor: 'rgb(250,250,250)' // Light background
                    });

                    window.addEventListener('resize', resizeCanvas); // Use addEventListener for modern practice
                    resizeCanvas(); // Initial resize

                    // Clear button for signature pad
                    document.getElementById("clear").addEventListener('click', function() {
                        signaturePad.clear();
                        $('#signatureError').css('display', 'block'); // Show error again if cleared
                    });

                    // Hide signature error message once drawing starts
                    signaturePad.addEventListener("endStroke", () => {
                        $('#signatureError').css('display', 'none');
                    });

                } else {
                    console.warn("Signature pad canvas not found. Skipping signature pad initialization.");
                    // Hide signature related elements if canvas is not found
                    $('#signature-pad').hide();
                    $('#clear').hide();
                    $('h3:contains("Digital Signature")').hide(); // Hide the heading too
                }


                // --- Form Validation Logic on Submit ---
                function validateTicketForm() {
                    let formValid = true;
                    let firstInvalidField = null;

                    // Reset all border colors and hide all error messages initially
                    $('#submitTicketForm input, #submitTicketForm select, #submitTicketForm textarea').each(function() {
                        const $this = $(this);
                        $this.css('border-color', ''); // Reset border
                        hideErrorMessage(this); // Hide potential error messages
                    });
                    $('#signatureError').css('display', 'none');
                    $('#recapErr6771280000000742007').css('visibility', 'hidden');


                    // 1. Validate all inputs (excluding 'not-required' and 'g-recaptcha-response')
                    $('#submitTicketForm input:not(.not-required):not([name="g-recaptcha-response"]), ' +
                      '#submitTicketForm select:not(.not-required):not([name="g-recaptcha-response"]), ' +
                      '#submitTicketForm textarea:not(.not-required):not([name="g-recaptcha-response"])').each(function() {
                        const $this = $(this);
                        let isValid = true;
                        let errorMessage = '';

                        if ($this.is('select[multiple]')) {
                            if ($this.find('option:selected').length === 0) {
                                isValid = false;
                                errorMessage = 'Please select at least one option.';
                            }
                        } else if ($this.is(':checkbox')) {
                            if (!$this.is(':checked')) {
                                isValid = false;
                                errorMessage = 'This checkbox must be checked.';
                            }
                        } else {
                            if (!$this.val() || $this.val().trim() === '') {
                                isValid = false;
                                errorMessage = 'This field is required.';
                            }
                            // Add more specific validations here if needed (e.g., email format, number ranges)
                            // Note: Zoho's functions below handle some of this, but client-side visual feedback is good.
                        }

                        if (!isValid) {
                            formValid = false;
                            $this.css('border-color', 'red');
                            showErrorMessage(this, errorMessage);
                            if (!firstInvalidField) {
                                firstInvalidField = $this;
                            }
                        } else {
                            $this.css('border-color', 'green');
                            hideErrorMessage(this);
                        }
                    });

                    // 2. Run Zoho specific mandatory checks (may show native alerts)
                    // We call checkMandatory first to handle any required fields not caught by jQuery's initial loop,
                    // although the jQuery loop above should cover most standard required fields.
                    // Keep Zoho's checkMandatory as it might have specific Zoho internal logic for certain field names.
                    if (!checkMandatory6771280000000742007()) {
                        formValid = false;
                        console.log('Zoho mandatory check failed. (Alert might have been shown by Zoho function)');
                        // Note: Zoho's default alert might steal focus; consider replacing with custom error messages.
                    }

                    // 3. Email validation (using Zoho's function, adapted to use custom error messages)
                    if (!validateEmail6771280000000742007()) {
                        formValid = false;
                        console.log('Zoho email validation failed.');
                        // find first invalid email and set as firstInvalidField
                        if (!firstInvalidField) {
                            firstInvalidField = $('[ftype=email]').filter(function() {
                                return $(this).next('.error-message').css('display') === 'block';
                            }).first();
                        }
                    }

                    // 4. Date format validation (using Zoho's function, adapted)
                    if (!validateDateFormat6771280000000742007()) {
                        formValid = false;
                        console.log('Zoho date format validation failed.');
                        // find first invalid date and set as firstInvalidField
                        if (!firstInvalidField) {
                            firstInvalidField = $('[ftype=date]').filter(function() {
                                return $(this).next('.error-message').css('display') === 'block';
                            }).first();
                        }
                    }

                    // 5. Signature validation
                    if (canvas && signaturePad && signaturePad.isEmpty()) {
                        formValid = false;
                        showErrorMessage(canvas, 'Please provide your signature.');
                        $('#signature-pad').css('border-color', 'red'); // Highlight signature pad
                        if (!firstInvalidField) {
                            firstInvalidField = $('#signature-pad');
                        }
                        console.log('Signature validation failed.');
                    } else if (canvas && signaturePad) {
                         $('#signature-pad').css('border-color', 'green'); // If valid, make it green
                         hideErrorMessage(canvas);
                    }


                    // 6. CAPTCHA validation (using Zoho's function)
                    if (!reCaptchaAlert6771280000000742007()) {
                        formValid = false;
                        console.log('reCAPTCHA validation failed. (Error message shown by Zoho function)');
                        if (!firstInvalidField) {
                            firstInvalidField = $('#recap6771280000000742007');
                        }
                    }

                    // 7. Check the consent checkbox (specific Zoho ID)
                    var consentCheckbox = $('#00NUm000009SCKP');
                    if (consentCheckbox.length && !consentCheckbox.is(':checked')) {
                        formValid = false;
                        showErrorMessage(consentCheckbox, 'You must agree to the terms.');
                        consentCheckbox.css('border-color', 'red'); // Border for the checkbox if needed
                        if (!firstInvalidField) {
                            firstInvalidField = consentCheckbox;
                        }
                        console.log('Consent checkbox not checked.');
                    } else if (consentCheckbox.length) {
                        consentCheckbox.css('border-color', 'green'); // If checked, make it green
                        hideErrorMessage(consentCheckbox);
                    }


                    // Scroll to the first invalid field if validation failed
                    if (!formValid && firstInvalidField) {
                        $('html, body').animate({
                            scrollTop: firstInvalidField.offset().top - 100 // Adjust offset as needed
                        }, 500);
                        firstInvalidField.focus(); // Focus the element
                    }

                    return formValid;
                }


                // --- Handle form submission ---
                $('#submitTicketForm').on('submit', function(event) {
                    event.preventDefault(); // Prevent default form submission initially

                    console.log("Form submission intercepted by jQuery handler.");

                    if (!validateTicketForm()) {
                        console.log('Form validation failed. Stopping submission.');
                        return; // Stop if validation fails
                    }

                    console.log('Form validation passed. Proceeding with PDF and submission to Zoho.');

                    // Set the Zoho Subject field for the PDF, if it's a hidden field
                    const subjectField = document.forms['WebToCases6771280000000742007']['Subject'];
                    if (subjectField) {
                        // Dynamically set subject based on form data, e.g., Order Number + Change Details
                        const orderNum = $('#orderNumber').val();
                        const changeDet = $('#changeDetails').val().substring(0, 50); // Take first 50 chars
                        subjectField.value = `Change Order Request - ${orderNum} - ${changeDet}...`;
                    }

                    // Generate the PDF
                    try {
                        const { jsPDF } = window.jspdf;
                        const doc = new jsPDF();
                        const pageHeight = doc.internal.pageSize.height || 297;
                        const pageWidth = doc.internal.pageSize.width || 210;
                        const headerHeight = 40;
                        const footerHeight = 30;

                        // Function to add the header with logo
                        function addHeader(docInstance) {
                            return new Promise((resolve) => {
                                const imgUrl = 'https://www.techunifi.com/assets/img/hero-img.png';
                                const img = new Image();
                                img.src = imgUrl;

                                img.onload = function() {
                                    docInstance.addImage(img, 'PNG', 60, 10, 90, 30);
                                    resolve();
                                };
                                img.onerror = function() {
                                    console.warn('Error loading header image, proceeding without it.');
                                    resolve(); // Resolve even if image fails to load
                                };
                            });
                        }

                        // Function to add the footer with contact details
                        function addFooter(docInstance) {
                            docInstance.setFontSize(12);
                            docInstance.setTextColor(0, 0, 0);
                            docInstance.text('2638 Willard Dairy Road, Suite 112 High Point, NC 27265', pageWidth / 2, pageHeight - footerHeight + 10, { align: 'center' });
                            docInstance.text('+1 (336) 860-6061 | techunifi.com | Info@techunifi.com', pageWidth / 2, pageHeight - footerHeight + 20, { align: 'center' });
                            docInstance.setLineWidth(0.5);
                            docInstance.line(10, pageHeight - footerHeight, pageWidth - 10, pageHeight - footerHeight);
                        }

                        // Function to add form data content
                        function addContent(docInstance, yCoord) {
                            const formData = $('#submitTicketForm').serializeArray();
                            const filteredFormData = formData.filter(field =>
                                !['xnQsjsdp', 'zc_gad', 'xmIwtLD', 'actionType', 'returnURL', 'g-recaptcha-response', '00NUm000009SCKP', 'Subject'].includes(field.name)
                            );

                            const lineHeight = 10;
                            const labelIndent = 10;
                            const valueIndent = 60;
                            const maxWidth = pageWidth - valueIndent - 10;

                            filteredFormData.forEach(field => {
                                let label = $(`label[for='${field.name}']`).text().trim();
                                if (!label) {
                                    // Fallback for elements without direct label (e.g., selects without 'for' attribute)
                                    const element = $(`[name='${field.name}']`);
                                    if (element.is('select') || element.is('input') || element.is('textarea')) {
                                        // Attempt to use placeholder or name as label
                                        label = element.attr('placeholder') || element.attr('name');
                                        if (label) {
                                            label = label.replace(/_/g, ' ').replace(/\b\w/g, c => c.toUpperCase()); // Capitalize words
                                        } else {
                                            label = field.name; // Use raw name if no other option
                                        }
                                    }
                                }
                                label = label.replace(/:$/, ''); // Remove trailing colon from label text

                                let value = field.value;

                                // Handle multiple select options (display selected text, not just value)
                                if ($(`[name='${field.name}']`).is('select[multiple]')) {
                                    const selectedOptions = $(`[name='${field.name}']`).find('option:selected').map(function() {
                                        return $(this).text();
                                    }).get().join(', ');
                                    value = selectedOptions || 'None selected';
                                } else if ($(`[name='${field.name}']`).is(':checkbox')) {
                                    // Checkboxes are filtered out above; if they weren't, handle their specific 'checked' state here.
                                    return; // Skip checkboxes as we handle consent separately
                                }


                                if (!label || value === '') {
                                    return; // Skip empty fields or fields with no recognizable label
                                }

                                // Check for page break before adding the label
                                if (yCoord + lineHeight > pageHeight - footerHeight - 10) {
                                    docInstance.addPage();
                                    yCoord = headerHeight;
                                    addHeader(docInstance);
                                }

                                docInstance.setFont('helvetica', 'bold');
                                docInstance.text(`${label}:`, labelIndent, yCoord);

                                docInstance.setFont('helvetica', 'normal');
                                const valueLines = docInstance.splitTextToSize(value, maxWidth);
                                valueLines.forEach(line => {
                                    if (yCoord + lineHeight > pageHeight - footerHeight - 10) {
                                        docInstance.addPage();
                                        yCoord = headerHeight;
                                        addHeader(docInstance);
                                    }
                                    docInstance.text(line, valueIndent, yCoord);
                                    yCoord += lineHeight;
                                });
                            });

                            // Add the state of the consent checkbox
                            const consentCheckbox = $('#00NUm000009SCKP');
                            if (consentCheckbox.length) {
                                const consentStatus = consentCheckbox.is(':checked') ? 'Agreed' : 'Not Agreed';
                                if (yCoord + lineHeight > pageHeight - footerHeight - 10) {
                                    docInstance.addPage();
                                    yCoord = headerHeight;
                                    addHeader(docInstance);
                                }
                                docInstance.setFont('helvetica', 'bold');
                                docInstance.text('Consent to Terms:', labelIndent, yCoord);
                                docInstance.setFont('helvetica', 'normal');
                                docInstance.text(consentStatus, valueIndent, yCoord);
                                yCoord += lineHeight;
                            }

                            return yCoord;
                        }

                        // Function to add Terms and Conditions
                        function addTermsAndConditions(docInstance, yCoord) {
                            // Ensure enough space for the heading and first few lines before adding a new page
                            if (yCoord + 60 > pageHeight - footerHeight - 10) {
                                docInstance.addPage();
                                yCoord = headerHeight;
                                addHeader(docInstance);
                            }

                            docInstance.setFontSize(14);
                            docInstance.setFont('helvetica', 'bold');
                            docInstance.text('Terms and Conditions', 10, yCoord);
                            yCoord += 10;
                            docInstance.setFontSize(12);
                            docInstance.setFont('helvetica', 'normal');

                            const terms = [
                                '1. Total payment due 30 days after completion of work.',
                                '2. Refer to the W.O. # in all correspondence and in your payment.',
                                '3. Please send correspondence regarding this work order to:',
                                '    Suzanne Blair - suzanne.blair@techunifi.com.'
                            ];

                            terms.forEach(term => {
                                if (yCoord + 10 > pageHeight - footerHeight - 10) {
                                    docInstance.addPage();
                                    yCoord = headerHeight;
                                    addHeader(docInstance);
                                }
                                docInstance.text(term, 10, yCoord);
                                yCoord += 10;
                            });

                            // Add hyperlink
                            if (yCoord + 10 > pageHeight - footerHeight - 10) {
                                docInstance.addPage();
                                yCoord = headerHeight;
                                addHeader(docInstance);
                            }
                            docInstance.setTextColor(6, 98, 187); // Set text color to #0662BB for link
                            docInstance.textWithLink('View full terms and conditions', 10, yCoord, {
                                url: 'https://www.techunifi.com/terms-conditions.html'
                            });
                            docInstance.setTextColor(0, 0, 0); // Reset text color
                            yCoord += 20; // Space after link

                            return yCoord;
                        }

                        // Start PDF generation process
                        async function generateAndSubmitPDF() {
                            let y = headerHeight;

                            await addHeader(doc);
                            y += 25; // Initial spacing after header

                            y = addContent(doc, y); // Add form content
                            y += 10; // Space between content and terms

                            y = addTermsAndConditions(doc, y); // Add Terms and Conditions

                            // Add signature if available
                            if (canvas && signaturePad && !signaturePad.isEmpty()) {
                                const signatureImage = signaturePad.toDataURL();
                                if (y + 40 > pageHeight - footerHeight - 10) {
                                    doc.addPage();
                                    y = headerHeight;
                                    await addHeader(doc);
                                }
                                doc.text('E-Signature:', 10, y);
                                doc.addImage(signatureImage, 'PNG', 10, y + 5, 190, 30); // Adjust Y for image
                                y += 40; // Adjust space after signature
                            }

                            // Add footer to the last page
                            addFooter(doc);

                            // Save the PDF
                            const pdfFileName = `Techunifi_ChangeOrder_${$('#orderNumber').val() || 'NoOrder'}_${new Date().toISOString().slice(0,10)}.pdf`;
                            doc.save(pdfFileName);
                            console.log('PDF downloaded successfully:', pdfFileName);

                            // Submit the form natively AFTER PDF generation and download has initiated.
                            // A small delay ensures the browser has time to start the download.
                            setTimeout(() => {
                                var form = document.getElementById('submitTicketForm');
                                if (form && form.tagName === 'FORM') {
                                    console.log("Natively submitting the form to Zoho...");
                                    form.submit(); // Native form submission to Zoho
                                } else {
                                    console.error('Form not found or not a valid form element for native submission.');
                                }
                            }, 1000); // 1-second delay
                        }

                        generateAndSubmitPDF().catch(error => {
                            console.error('Error during PDF generation or submission:', error);
                            alert('An error occurred during form processing. Please try again.');
                        });

                    } catch (error) {
                        console.error('Initial error caught in PDF generation block:', error);
                        alert('An error occurred while preparing the PDF. Please ensure all fields are correctly filled.');
                    }
                });

                // --- Event listener for real-time border color feedback ---
                $('#submitTicketForm input, #submitTicketForm select, #submitTicketForm textarea').on('input change blur', function() {
                    const $this = $(this);

                    // If the field is not required or is g-recaptcha-response, do not apply red/green borders
                    if ($this.hasClass('not-required') || $this.attr('name') === 'g-recaptcha-response') {
                        $this.css('border-color', ''); // Remove border if not required, or revert to default
                        hideErrorMessage(this); // Ensure no error message for non-required fields
                        return;
                    }

                    let isValid = true;
                    let errorMessage = '';

                    if ($this.is('select[multiple]')) {
                        if ($this.find('option:selected').length === 0) {
                            isValid = false;
                            errorMessage = 'Please select at least one option.';
                        }
                    } else if ($this.is(':checkbox')) {
                        if (!$this.is(':checked')) {
                            isValid = false;
                            errorMessage = 'This checkbox must be checked.';
                        }
                    } else if ($this.attr('ftype') === 'email') { // Specific email validation for real-time
                        const emailVal = $this.val().trim();
                        if (emailVal === '') {
                             isValid = false;
                             errorMessage = 'Email address is required.';
                        } else {
                            const atpos = emailVal.indexOf('@');
                            const dotpos = emailVal.lastIndexOf('.');
                            if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= emailVal.length) {
                                isValid = false;
                                errorMessage = 'Please enter a valid email address.';
                            }
                        }
                    } else if ($this.attr('ftype') === 'date') { // Specific date validation for real-time
                        const dateVal = $this.val().trim();
                        if (dateVal === '') {
                            isValid = false;
                            errorMessage = 'Date is required.';
                        } else {
                            const usrPtrn = $this.attr('placeholder') || 'DD/MM/YYYY';
                            if (!dateFormatConvert.validate(dateVal, usrPtrn)) {
                                isValid = false;
                                errorMessage = 'Please enter a valid date (' + usrPtrn + ').';
                            }
                        }
                    }
                    else {
                        // For other input types (text inputs, textareas, number inputs etc.)
                        if (!$this.val() || $this.val().trim() === '') {
                            isValid = false;
                            errorMessage = 'This field is required.';
                        }
                    }

                    if (isValid) {
                        $this.css('border-color', 'green');
                        hideErrorMessage(this);
                    } else {
                        $this.css('border-color', 'red');
                        showErrorMessage(this, errorMessage);
                    }
                });

                // Signature pad border color update
                if (canvas && signaturePad) {
                    signaturePad.addEventListener("beginStroke", () => {
                        $('#signature-pad').css('border-color', 'green');
                        $('#signatureError').css('display', 'none');
                    });
                    // For blur event, if empty, make it red
                    $(canvas).on('blur', function() {
                        if (signaturePad.isEmpty()) {
                            $('#signature-pad').css('border-color', 'red');
                            $('#signatureError').css('display', 'block');
                        }
                    });
                }
            });
        }
    </script>

<script id='wf_anal' src='https://crm.zohopublic.com/crm/WebFormAnalyticsServeServlet?rid=6b6ae31ae2f4d68071c20592b87156438014f67fc021847b8229436aaaf7edf4ba53094dab9d377a285430233462bf94gid14630c9998666c0397966c58f966f98f6949ecc50f3255e60e1b46cfdeb45215gid4f42e44b0916558510b15f60c0df3baa1687b14dcbf31981aa040dc5b9cd9b6agid7a5d1b79510f3e61a6cc141b716aa6e5669d008dfce3ecd98dea64263f147da6&tw=2d706fdfc189a35e27c4a7b9a7df6c964fbd339347066a5e0a3c5b63f01b1024' defer></script>



</body>
</html>
